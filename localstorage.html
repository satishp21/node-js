<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form onsubmit="saveToLocalStorage(event)">
        <label>Name</label>
        <input type ="text" name="username" required>
        <label>Email</label>
        <input type ="email" name="emailId" required>
        <label>phonenumber</label>
        <input type ="number" name="phonenumber" required>
        <input type="submit" name ="submit">
        <ul id ="listofitems">
        </ul>
    </form>

    <script>
        function saveToLocalStorage(event){
            event.preventDefault();
            const name=event.target.username.value;
            const email=event.target.emailId.value;
            const phonenumber=event.target.phonenumber.value;

//            localStorage.setItem("name",name);
//            localStorage.setItem("email",email);
//            localStorage.setItem("phonenumber",phonenumber);
        //storing details in single line in local storage 
            const obj={
                name,
                email,
                phonenumber
            }
        //    localStorage.setItem("userdetails",JSON.stringify(obj))
        
        //storing details of multiple users
        localStorage.setItem(obj.email,JSON.stringify(obj))
        showuseronscreen(obj)
        }
        
        function showuseronscreen(obj){
           const parenteliment=document.getElementById("listofitems") 
           const childelem=document.createElement("li")
           childelem.textContent=obj.name+"-"+obj.email+"-"+obj.phonenumber

        // creating delete button which deletes data from screen as well as local storage.  

            const deletebutton=document.createElement("input")
            deletebutton.type="button"
            deletebutton.value="Delete"
            deletebutton.onclick = () => {
                localStorage.removeItem(obj.email)
                parenteliment.removeChild(childelem)
            }
            childelem.appendChild(deletebutton)
            parenteliment.appendChild(childelem)
        }
        
    </script>
</body>
</html>