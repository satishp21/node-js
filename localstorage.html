

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form onsubmit="saveToLocalStorage(event)">
        <label>Name</label>
        <input type ="text" name="username" id ="usernameInputTag" required>
        <label>Email</label>
        <input type ="email" name="emailId" id="emailInputTag" required>
        <label>phonenumber</label>
        <input type ="number" name="phonenumber" id ="'phonenumberInputTag'"required>
        <input type="submit" name ="submit">
        <ul id ="listofitems">
        </ul>
    </form>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.3.3/axios.min.js"></script> <!-- for backend activity -->
    <script>
        //showuseronscreen()
        function saveToLocalStorage(event){
            event.preventDefault();
            const name=event.target.username.value;
            const email=event.target.emailId.value;
            const phonenumber=event.target.phonenumber.value;

            /*localStorage.setItem("name",name);
            localStorage.setItem("email",email);
            localStorage.setItem("phonenumber",phonenumber);*/
        //storing details in single line in local storage 
            const obj={
                name,
                email,
                phonenumber
            }
            //for backend activity
            /*axios.post("https://crudcrud.com/api/a8b882181955493281cd45bf937a3f5f/appointmentdata", obj)
            .then((response) => {
                console.log(response)
            })
            .catch((err) =>{
                console.log(err)
            })*/
            //localStorage.setItem("userdetails",JSON.stringify(obj))
        
        //storing details of multiple users
        localStorage.setItem(obj.email,JSON.stringify(obj))
        showuseronscreen(obj)
        }

        
        function showuseronscreen(obj){
           const parenteliment=document.getElementById("listofitems") 
           const childelem=document.createElement("li")
           childelem.textContent=obj.name+"-"+obj.email+"-"+obj.phonenumber

        // creating delete button which deletes data from screen as well as local storage.  

            const deletebutton=document.createElement("input")
            deletebutton.type="button"
            deletebutton.value="Delete"
            deletebutton.onclick = () => {
                localStorage.removeItem(obj.email)
                parenteliment.removeChild(childelem)
            }
        
        //creating edit button just after delete button
                const editbutton=document.createElement("input")
                editbutton.type="button"
                editbutton.value="Edit"
                editbutton.onclick = () => {
                    localStorage.removeItem(obj.email)
                    parenteliment.removeChild(childelem)
                    document.getElementById('usernameInputTag').value=obj.name
                    document.getElementById('emailInputTag').value=obj.email
                    document.getElementById('phonenumberInputTag').value=obj.phonenumber
            }
            childelem.appendChild(deletebutton)
            childelem.appendChild(editbutton)
            parenteliment.appendChild(childelem)
        }

    </script>
</body>
